<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="layout :: frag_head">
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body class="text-center">
	<div class="d-flex w-100 h-100 flex-column">
		<header th:include="layout :: frag_body"></header>
		<main role="main" class="mt-auto mb-auto" style="color: #011627;">
			<h3 class="pt-3">頼みごとの登録</h3>
			<p th:text="${result}" style="color: red;"></p>
			<form class="p-reset form-signin was-validated m-auto pr-5 pl-5"
				method="post" action="#" th:action="@{/createTask}" style="width: 47%;"
				th:object="${taskForm}">

				<div class="form-group">
					<label class="h5" for="title">タイトル</label> <input id="title"
						type="text" class="form-control text-left" name="title"
						th:value="${title}"
						th:required="${#fields.hasErrors('title')} ? required" /> <small
						th:if="${#fields.hasErrors('title')}" th:errors="*{title}"
						class="err"></small>
				</div>
				<div class="form-group">
					<label class="h5" for="content">内容</label> <input id="content"
						type="text" class="form-control text-left" name="content"
						th:value="${content}"
						th:required="${#fields.hasErrors('content')} ? required" /> <small
						th:if="${#fields.hasErrors('content')}" th:errors="*{content}"
						class="err"></small>
				</div>
				<div class="form-group">
					<label class="h5" for="exampleFormControlSelect1">ラベル</label> <select
						onchange="changeItem(this)" style="color: red;"
						class="form-control" id="exampleFormControlSelect1" name="label">
						<option th:each="item : ${selectLabel}" th:value="${item.value}"
							th:text="${item.key}" th:selected="${item.value} eq 'red'"></option>
					</select>
				</div>
				<div class="form-group">
					<label class="h5" for="addresseeName">頼みたいユーザー名</label> <input id="addresseeName"
						type="text" class="form-control text-left" name="addresseeName"
						th:value="${addresseeName}"
						th:required="${#fields.hasErrors('addresseeName')} ? required" /> <small
						th:if="${#fields.hasErrors('addresseeName')}" th:errors="*{addresseeName}"
						class="err"></small>
				</div>
				<div class="form-group">
					<label class="h5" for="deadline">期限</label> <input id="deadline"
						type="datetime-local" class="form-control" name="deadline"
						th:value="${deadline}"
						th:required="${#fields.hasErrors('deadline')} ? required" /> <small
						th:if="${#fields.hasErrors('deadline')}" th:errors="*{deadline}"
						class="err"></small>
				</div>
				<input type="hidden" name="userId" th:value="${userId}">
				<div>
					<button type="submit" class="btn"
						style="background-color: #011627; color: white;">登録</button>
					<a type="button" onclick="history.back()" class="btn btn-md ml-2"
						style="background: white;" role="button" aria-pressed="true">戻る</a>
				</div>
			</form>
		</main>
		<footer th:include="layout :: frag_footer"></footer>
	</div>
</body>
</html>