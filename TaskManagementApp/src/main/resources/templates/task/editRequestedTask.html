<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="layout :: frag_head">
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body class="text-center" style="color: #fff;">
	<div class="d-flex w-100 h-100 flex-column">
		<header th:include="layout :: frag_body"></header>
		<main role="main" class="mb-auto mt-auto" style="color: #011627;">
			<h2>頼みごとの編集</h2>
			<h2 style="color: red;" th:text="${failed}"></h2>
			<form class="p-reset form-signin m-auto pr-5 pl-5 was-validated" method="post"
				action="#" th:object="${taskForm}"
				th:action="@{/edit/{id}(id=${taskForm.id})}" style="width: 47%;">

				<div class="form-group">
					<label for="title">タイトル</label> <input id="wrap" type="text"
						class="form-control text-left" name="title" th:value="*{title}" required/>
					<small th:if="${#fields.hasErrors('title')}" th:errors="*{title}"
						class="err"></small>
				</div>

				<div class="form-group">
					<label for="conetnt">内容</label> <input type="text"
						class="form-control text-left" name="content"
						th:value="*{content}" required/> <small
						th:if="${#fields.hasErrors('content')}" th:errors="*{content}"
						class="err"></small>
				</div>

				<div class="form-group">
					<label class="h5" for="exampleFormControlSelect1">ラベル</label><select
						onchange="changeItem(this)" class="form-control"
						id="exampleFormControlSelect1" name="label"
						th:style="*{label} eq 'green' ? 'color: green;'"
						th:styleappend="*{label} eq 'blue' ? 'color: blue;' : 'color: red;'" required>
						<option th:each="item : ${selectLabel}" th:value="${item.value}"
							th:text="${item.key}" th:selected="*{label} eq ${item.value}"></option>
					</select>
				</div>

				<div class="form-group">
					<label for="addresseeName">送り先のユーザー名</label> <input type="text"
						class="form-control text-left" name="addresseeName"
						th:value="${addresseeName}"required/> <small
						th:if="${#fields.hasErrors('addresseeName')}" th:errors="*{addresseeName}"
						class="err"></small>
				</div>

				<div class="form-group">
					<label for="deadline">期限</label> <input type="datetime-local"
						class="form-control" name="deadline" th:value="*{deadline}" required/> <small
						th:if="${#fields.hasErrors('deadline')}" th:errors="*{deadline}"
						class="err"></small>
				</div>
				<button type="submit" class="btn"
					style="background-color: #011627; color: white;">更新</button>
				<a type="button" onclick="history.back()"
					class="btn btn-secondary btn-md ml-2" role="button"
					aria-pressed="true" style="background: white;">戻る</a>
			</form>
		</main>
		<footer th:include="layout :: frag_footer"></footer>
	</div>
</body>
</html>